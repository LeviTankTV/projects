package GameV2;

import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import java.util.Scanner;

public class RoyalLibrary extends Room {
    private List<String> allNotes; // Список всех доступных записок
    private List<String> availableNotes; // Записки, доступные для чтения
    private boolean visited; // Отслеживание, посетил ли игрок библиотеку

    public RoyalLibrary() {
        super();
        this.allNotes = new ArrayList<>();
        this.availableNotes = new ArrayList<>();
        this.visited = false; // Игрок еще не посетил библиотеку

        // Инициализация записок, вы можете добавлять свои записки здесь
        initializeNotes();
    }

    // Метод для инициализации записок
    private void initializeNotes() {
        allNotes.add("Записка 1: Король Артур был известным правителем, который объединил королевство.");
        allNotes.add("Записка 2: Легенда гласит, что Артур вытащил меч Экскалибур из камня.");
        allNotes.add("Записка 3: Артур основал Круглый стол, чтобы собрать лучших рыцарей королевства.");
        allNotes.add("Записка 4: В его правление королевство процветало, а мир царил на долгие годы.");
        allNotes.add("Записка 5: Артур часто сражался с врагами, защищая свою страну от захватчиков.");

        // Записки о королеве Элизабете
        allNotes.add("Записка 6: Королева Элизабета известна своей мудростью и справедливостью.");
        allNotes.add("Записка 7: Элизабета активно поддерживала искусство и науку в королевстве.");
        allNotes.add("Записка 8: Она была известна своими благотворительными инициативами.");
        allNotes.add("Записка 9: Королева часто проводила время с народом, чтобы понять их нужды.");
        allNotes.add("Записка 10: Элизабета оставила после себя наследие, которое помнят до сих пор.");

        // Записки о принце Эдварде
        allNotes.add("Записка 11: Принц Эдвард, сын короля Артура, обучался искусству войны с юных лет.");
        allNotes.add("Записка 12: Эдвард мечтает о том, чтобы стать величайшим рыцарем своего времени.");
        allNotes.add("Записка 13: Он часто сопровождает своего отца в сражениях, показывая храбрость.");
        allNotes.add("Записка 14: Принц Эдвард известен своей добротой и желанием помочь нуждающимся.");
        allNotes.add("Записка 15: Он также интересуется историей королевства и легендами о своих предках.");

        // Записки о принцессе Амелии
        allNotes.add("Записка 16: Принцесса Амелия, дочь короля Артура, известна своей красотой.");
        allNotes.add("Записка 17: Амелия любит организовывать балы и праздники в королевском дворце.");
        allNotes.add("Записка 18: Она активно участвует в благотворительных акциях для бедных.");
        allNotes.add("Записка 19: Принцесса мечтает о мире и дружбе между всеми народами.");
        allNotes.add("Записка 20: Амелия часто помогает своему отцу в управлении королевством.");

        allNotes.add("Записка 21: Тёмное королевство, скрытое от глаз, стало рассадником зла и магии.");
        allNotes.add("Записка 22: Легенды гласят, что в тёмном королевстве живут ужасные чудовища, порождённые магией.");
        allNotes.add("Записка 23: На сходке магов обсуждаются древние заклинания, способные пробудить силу тьмы.");
        allNotes.add("Записка 24: Чудовища, обитающие в тёмном королевстве, охраняют тайны, которые могут изменить мир.");
        allNotes.add("Записка 25: Говорят, что в тёмном королевстве есть таинственное озеро, которое исполняет желания.");
        allNotes.add("Записка 26: Каждый год маги собираются, чтобы обменяться знаниями и обсудить угрозы.");
        allNotes.add("Записка 27: В тёмном королевстве можно найти артефакты, обладающие невероятной силой.");
        allNotes.add("Записка 28: Слухи о тёмном королевстве пугают жителей, но некоторые мечтают о приключениях.");
        allNotes.add("Записка 29: На сходке магов был поднят вопрос о том, как остановить распространение тьмы.");
        allNotes.add("Записка 30: Чудовища, охраняющие тёмное королевство, могут быть искажены магией.");
        allNotes.add("Записка 31: Тайны королевства скрыты в древних рукописях, которые необходимо расшифровать.");
        allNotes.add("Записка 32: В тёмном королевстве живут существа, обладающие способностями, недоступными обычным людям.");
        allNotes.add("Записка 33: На каждой сходке магов присутствуют представители разных школ магии.");
        allNotes.add("Записка 34: Мастера магии изучают тёмные заклинания, чтобы противостоять злу.");
        allNotes.add("Записка 35: Говорят, что в тёмном королевстве спрятаны сокровища, которые никто не осмеливался искать.");
        allNotes.add("Записка 36: Существуют легенды о том, что некоторые маги стали жертвами своей магии.");
        allNotes.add("Записка 37: Тайны королевства могут быть раскрыты только теми, кто готов рискнуть.");
        allNotes.add("Записка 38: Чудовища, обитающие в тёмном королевстве, могут быть как добрыми, так и злыми.");
        allNotes.add("Записка 39: На сходке магов обсуждаются методы защиты от тёмных сил.");
        allNotes.add("Записка 40: Тёмное королевство всегда будет привлекать искателей приключений и исследователей.");

        allNotes.add("Записка 41: В тёмном королевстве ходят слухи о древнем артефакте, способном управлять временем.");
        allNotes.add("Записка 42: Верховный маг, поклявшийся в вечной службе тьме, был изгнан из всех магических кругов.");
        allNotes.add("Записка 43: Легенда гласит, что верховный маг может призывать силы, способные уничтожить целые города.");
        allNotes.add("Записка 44: В тёмном лесу, окружённом туманом, прячется храм, посвящённый древним богам тьмы.");
        allNotes.add("Записка 45: Говорят, что в тёмном королевстве есть заброшенная башня, где когда-то жил могущественный маг.");
        allNotes.add("Записка 46: Чудовища, охраняющие сокровища, могут быть под контролем верховного мага.");
        allNotes.add("Записка 47: На священном алтаре, покрытом кровью, верховный маг проводил ритуалы, чтобы усилить свою силу.");
        allNotes.add("Записка 48: Страшные видения мучают тех, кто осмеливается искать знания в тёмном королевстве.");
        allNotes.add("Записка 49: В тёмных углах королевства скрываются тайные общества, поклоняющиеся верховному магу.");
        allNotes.add("Записка 50: Легенды о верховном маге говорят о его способности управлять разумами слабых.");
        allNotes.add("Записка 51: В тёмном королевстве есть места, где время останавливается, и магия становится неуправляемой.");
        allNotes.add("Записка 52: Говорят, что верховный маг заключил сделку с демоном, чтобы получить невообразимую силу.");
        allNotes.add("Записка 53: В тёмных подземельях королевства прячутся древние существа, охраняющие забытые знания.");
        allNotes.add("Записка 54: На каждом шагу в тёмном королевстве можно встретить следы магии, оставленные верховным магом.");
        allNotes.add("Записка 55: В тёмном королевстве есть легенда о том, как один маг стал верховным, принёс жертву.");
        allNotes.add("Записка 56: Темные облака нависают над королевством, как предвестие возвращения верховного мага.");
        allNotes.add("Записка 57: В заброшенных храмах можно найти следы ритуалов, которые проводил верховный маг.");
        allNotes.add("Записка 58: Говорят, что верховный маг может воскресить мёртвых, но цена за это ужасна.");
        allNotes.add("Записка 59: Страх и ужас охватывают сердца тех, кто слышит имя верховного мага.");
        allNotes.add("Записка 60: В тёмном королевстве каждый шепот о верховном маге приносит страх и трепет.");

        allNotes.add("Записка 61: Каждый день жители королевства слышат тревожные крики, предвещающие нападение монстров.");
        allNotes.add("Записка 62: Монстры, вырывающиеся из тёмного леса, становятся всё более агрессивными.");
        allNotes.add("Записка 63: В последние недели количество нападений на деревни увеличилось в несколько раз.");
        allNotes.add("Записка 64: Говорят, что монстры следуют за запахом страха, исходящим от жителей.");
        allNotes.add("Записка 65: Стражи королевства не успевают справляться с волной нападений.");
        allNotes.add("Записка 66: Каждый вечер на стенах замка собираются маги, чтобы защитить королевство от чудовищ.");
        allNotes.add("Записка 67: Монстры атакуют как ночью, так и днём, не оставляя времени на отдых.");
        allNotes.add("Записка 68: Жители королевства начинают вооружаться, чтобы защитить свои дома от нападений.");
        allNotes.add("Записка 69: В некоторых деревнях появились слухи о том, что монстры действуют по чьему-то приказу.");
        allNotes.add("Записка 70: На полях сражений остаются следы магии, свидетельствующие о вмешательстве тёмных сил.");
        allNotes.add("Записка 71: Каждый раз после нападения жители находят следы, ведущие обратно в тёмное королевство.");
        allNotes.add("Записка 72: Маги работают над заклинаниями, чтобы отогнать монстров от королевства.");
        allNotes.add("Записка 73: Местные легенды гласят, что монстры были созданы верховным магом для разрушения.");
        allNotes.add("Записка 74: Нападения монстров становятся всё более организованными, как будто кто-то ими управляет.");
        allNotes.add("Записка 75: В королевстве растёт паника, и люди начинают покидать свои дома.");
        allNotes.add("Записка 76: Некоторые смельчаки пытаются поймать монстров, чтобы изучить их повадки.");
        allNotes.add("Записка 77: Говорят, что в тёмном лесу обитает существо, способное контролировать монстров.");
        allNotes.add("Записка 78: Нападения становятся всё более изощрёнными, и стражи королевства теряют надежду.");
        allNotes.add("Записка 79: Каждый день на стенах замка появляются новые отметки от атак монстров.");
        allNotes.add("Записка 80: В королевстве растёт недовольство, и некоторые начинают обвинять магов в происходящем.");

        allNotes.add("Записка 81: В последние дни жители начали замечать исчезновение своих соседей и друзей.");
        allNotes.add("Записка 82: Некоторые деревни полностью опустели, и никто не знает, куда делись их жители.");
        allNotes.add("Записка 83: Говорят, что монстры стали исчезать так же внезапно, как и люди.");
        allNotes.add("Записка 84: На улицах королевства появляются слухи о таинственном существе, похищающем людей.");
        allNotes.add("Записка 85: Стражи королевства начали проводить расследования, но улики не ведут ни к чему.");
        allNotes.add("Записка 86: Некоторые жители утверждают, что видели светящиеся фигуры, уносящие людей в ночи.");
        allNotes.add("Записка 87: Маги начали исследовать исчезновения, надеясь найти связь с тёмным королевством.");
        allNotes.add("Записка 88: На полях сражений находят следы, которые исчезают, как только их начинают изучать.");
        allNotes.add("Записка 89: Исчезнувшие люди оставляют за собой только пустые дома и полные страха семьи.");
        allNotes.add("Записка 90: В королевстве растет недовольство, и люди начинают обвинять друг друга в исчезновениях.");
        allNotes.add("Записка 91: Некоторые смельчаки отправляются в тёмный лес, чтобы выяснить, что происходит.");
        allNotes.add("Записка 92: Говорят, что в глубинах леса скрывается портал в другое измерение.");
        allNotes.add("Записка 93: Исчезновения людей совпадают с периодами, когда монстры становятся особенно агрессивными.");
        allNotes.add("Записка 94: На каждом углу королевства обсуждают теории о том, куда могли исчезнуть люди.");
        allNotes.add("Записка 95: Некоторые утверждают, что видели монстров, которые были похожи на тех, кто пропал.");
        allNotes.add("Записка 96: В тёмном королевстве ходят слухи о том, что верховный маг использует людей для своих ритуалов.");
        allNotes.add("Записка 97: Страх охватывает королевство, и люди начинают запираться в своих домах.");
        allNotes.add("Записка 98: Исследователи находят следы, указывающие на то, что некоторые исчезнувшие могли быть похищены.");
        allNotes.add("Записка 99: Говорят, что исчезновения происходят по ночам, когда тьма поглощает всё вокруг.");
        allNotes.add("Записка 100: В королевстве царит паника, и никто не знает, кто или что стоит за исчезновениями.");

        allNotes.add("Записка 101: Королевство находится под угрозой, и никто не знает, откуда исходит опасность.");
        allNotes.add("Записка 102: Сообщения о странных событиях приходят из соседних королевств, вызывая всеобщее беспокойство.");
        allNotes.add("Записка 103: Дипломаты других королевств начинают собираться, чтобы обсудить общую угрозу.");
        allNotes.add("Записка 104: Говорят, что в тёмном королевстве разрабатываются планы по нападению на соседние земли.");
        allNotes.add("Записка 105: Жители других королевств начинают готовиться к возможным атакам и укрепляют свои стены.");
        allNotes.add("Записка 106: Некоторые маги из соседних королевств предлагают свои услуги для защиты от угрозы.");
        allNotes.add("Записка 107: На границах королевства усиливается патрулирование, чтобы предотвратить вторжения.");
        allNotes.add("Записка 108: Говорят, что в тёмном королевстве собираются силы, способные уничтожить целые деревни.");
        allNotes.add("Записка 109: В королевстве растет недовольство, и люди требуют от правительства действий.");
        allNotes.add("Записка 110: Другие королевства отправляют разведчиков, чтобы выяснить, что происходит в тёмном королевстве.");
        allNotes.add("Записка 111: На встречах магов обсуждаются возможные альянсы для противостояния угрозе.");
        allNotes.add("Записка 112: Сообщения о пропавших послах из других королевств усиливают тревогу.");
        allNotes.add("Записка 113: Некоторые жители начинают верить, что угроза исходит из древних проклятий.");
        allNotes.add("Записка 114: Говорят, что в тёмном королевстве пробуждаются древние силы, которые могут привести к катастрофе.");
        allNotes.add("Записка 115: Маги из других королевств начинают обмениваться знаниями о тёмной магии.");
        allNotes.add("Записка 116: На границах королевства появляются знаки, указывающие на приближающуюся опасность.");
        allNotes.add("Записка 117: В королевстве растет число беженцев из соседних земель, спасаясь от угрозы.");
        allNotes.add("Записка 118: Говорят, что в тёмном королевстве создана армия, готовая к нападению на мирные земли.");
        allNotes.add("Записка 119: В королевстве начинается мобилизация сил, чтобы подготовиться к возможной войне.");
        allNotes.add("Записка 120: Королевство стоит на краю пропасти, и только объединение сил может спасти его от гибели.");

        allNotes.add("Записка 121: Королевство охвачено паникой — настал судный час, и никто не знает, как с этим бороться.");
        allNotes.add("Записка 122: Говорят, что таинственное существо бродит по землям, поглощая души невинных.");
        allNotes.add("Записка 123: Исчезновения людей стали более частыми, и страх охватывает даже самых смелых.");
        allNotes.add("Записка 124: Свидетели утверждают, что видели тень существа, оставляющего за собой лишь пустоту.");
        allNotes.add("Записка 125: В деревнях начинают проводить ритуалы, чтобы защитить себя от поглощения душ.");
        allNotes.add("Записка 126: Маги исследуют древние тексты в поисках информации о сущности, поглощающей души.");
        allNotes.add("Записка 127: Говорят, что существо питается страхом и страданиями, которые оно вызывает.");
        allNotes.add("Записка 128: На улицах королевства раздаются крики, когда люди исчезают в мгновение ока.");
        allNotes.add("Записка 129: Некоторые утверждают, что существо может принимать облик тех, кого оно поглотило.");
        allNotes.add("Записка 130: В королевстве начинается охота на существо, но многие возвращаются безрезультатно.");
        allNotes.add("Записка 131: Ученые и маги объединяют усилия, чтобы найти способ остановить поглощение душ.");
        allNotes.add("Записка 132: Слухи о том, что существо связано с тёмным королевством, начинают распространяться.");
        allNotes.add("Записка 133: В королевстве растет число жертв, и люди начинают терять надежду на спасение.");
        allNotes.add("Записка 134: Говорят, что существо оставляет за собой следы тьмы, от которых невозможно избавиться.");
        allNotes.add("Записка 135: На границах королевства появляются знаки, указывающие на присутствие существа.");
        allNotes.add("Записка 136: Некоторые жители начинают верить, что существо — это наказание за грехи прошлого.");
        allNotes.add("Записка 137: В королевстве начинается массовая истерия, и люди пытаются найти укрытие от зла.");
        allNotes.add("Записка 138: Говорят, что существо может быть остановлено только с помощью древнего артефакта.");
        allNotes.add("Записка 139: В королевстве царит мрак, и надежда на спасение становится всё более призрачной.");
        allNotes.add("Записка 140: Судный час настал, и только объединение всех сил может спасти королевство от гибели.");

        allNotes.add("Записка 141: Странное спокойствие воцарилось в королевстве — монстры больше не атакуют людей.");
        allNotes.add("Записка 142: Жители деревень начинают замечать, что чудовища исчезли из их земель.");
        allNotes.add("Записка 143: Говорят, что монстры прячутся в своих логовищах, боясь загадочного существа.");
        allNotes.add("Записка 144: На границах королевства появились знаки, указывающие на страх монстров перед чем-то большим.");
        allNotes.add("Записка 145: Некоторые жители утверждают, что видели монстров, прячущихся в тени замка.");
        allNotes.add("Записка 146: Маги исследуют причины изменения поведения чудовищ, пытаясь понять, что происходит.");
        allNotes.add("Записка 147: Жители начинают строить укрепления, полагая, что монстры могут вернуться в любой момент.");
        allNotes.add("Записка 148: Говорят, что монстры начали объединяться, чтобы защититься от новой угрозы.");
        allNotes.add("Записка 149: В замке слышны странные звуки — возможно, это монстры, прячущиеся от опасности.");
        allNotes.add("Записка 150: Некоторые исследователи отправляются в замок, чтобы выяснить, что происходит с чудовищами.");
        allNotes.add("Записка 151: В королевстве растет число слухов о том, что монстры боятся неведомого существа.");
        allNotes.add("Записка 152: Местные охотники начинают искать следы монстров, но находят лишь пустоту.");
        allNotes.add("Записка 153: Говорят, что монстры собираются в замке, чтобы обсудить свои страхи и планы.");
        allNotes.add("Записка 154: В королевстве царит замешательство — чудовища, которые когда-то нападали, теперь скрываются.");
        allNotes.add("Записка 155: Некоторые жители начинают чувствовать, что монстры стали менее агрессивными.");
        allNotes.add("Записка 156: В деревнях начинают говорить о возможном союзе с монстрами против общей угрозы.");
        allNotes.add("Записка 157: Говорят, что в замке монстры строят защитные сооружения, чтобы противостоять опасности.");
        allNotes.add("Записка 158: Исследователи находят следы монстров, ведущие к замку, и решают выяснить их намерения.");
        allNotes.add("Записка 159: В королевстве растет число слухов о том, что монстры могут иметь свои тайны.");
        allNotes.add("Записка 160: Время перемен — монстры больше не враги, и королевство стоит на пороге нового понимания.");

        allNotes.add("Записка 161: В королевстве начались слухи о том, что кто-то открыл портал мёртвых.");
        allNotes.add("Записка 162: Жители деревень стали замечать странные явления — тени и голоса из потустороннего мира.");
        allNotes.add("Записка 163: Говорят, что портал был открыт в заброшенном храме, скрытом в лесу.");
        allNotes.add("Записка 164: Некоторые смельчаки отправились исследовать храм, но никто из них не вернулся.");
        allNotes.add("Записка 165: На границах королевства появляются мрачные существа, вырвавшиеся из портала.");
        allNotes.add("Записка 166: Маги собираются, чтобы обсудить, как закрыть портал и остановить нарастающую угрозу.");
        allNotes.add("Записка 167: Говорят, что открытие портала связано с древними ритуалами, которые были забыты.");
        allNotes.add("Записка 168: Страх охватывает королевство — мёртвые начинают восставать и бродить по землям.");
        allNotes.add("Записка 169: Некоторые жители утверждают, что видели знакомые лица среди мёртвых, вернувшихся из потустороннего мира.");
        allNotes.add("Записка 170: В королевстве начинается паника, и люди ищут способы защититься от мёртвых.");
        allNotes.add("Записка 171: Исследователи изучают старые манускрипты, надеясь найти способ закрыть портал.");
        allNotes.add("Записка 172: Говорят, что лишь истинная сила магии может остановить поток мёртвых из портала.");
        allNotes.add("Записка 173: В деревнях начинают проводить обряды, чтобы успокоить души, вернувшиеся из мёртвых.");
        allNotes.add("Записка 174: Некоторые маги начинают подозревать, что открытие портала было преднамеренным актом.");
        allNotes.add("Записка 175: Портал мёртвых излучает зловещую ауру, от которой стынет кровь в жилах.");
        allNotes.add("Записка 176: Говорят, что существа, вырвавшиеся из портала, ищут мести за незавершенные дела.");
        allNotes.add("Записка 177: В королевстве растет число жертв мёртвых, и страх охватывает сердца людей.");
        allNotes.add("Записка 178: Некоторые смельчаки собираются отправиться в храм, чтобы закрыть портал раз и навсегда.");
        allNotes.add("Записка 179: В королевстве начинается охота на тех, кто открыл портал, чтобы остановить дальнейшие бедствия.");
        allNotes.add("Записка 180: С каждым днем тьма нарастает, и только смелые смогут противостоять мёртвым и закрыть портал.");

        allNotes.add("Записка 181: Мы, последние адекватные выжившие, продолжаем вести записи, чтобы сохранить хоть какую-то надежду.");
        allNotes.add("Записка 182: Бандиты, ассасины и преступники, некогда угрожавшие королевству, теперь стали частью нежити.");
        allNotes.add("Записка 183: Нежить, состоящая из тех, кто когда-то был врагом, теперь бродит по землям, сея хаос.");
        allNotes.add("Записка 184: Мы слышим их шепот — это мертвецы, которые когда-то были нашими врагами, теперь они стали неуправляемыми.");
        allNotes.add("Записка 185: Маги, которые раньше защищали королевство, теперь подчиняются одному могущественному существу.");
        allNotes.add("Записка 186: Это существо управляет магией и нежитью, и его намерения остаются неизвестными.");
        allNotes.add("Записка 187: Мы чувствуем, как страх охватывает нас — даже маги, когда-то наши союзники, потеряли свою волю.");
        allNotes.add("Записка 188: Исследования показывают, что это существо питается страхом и хаосом, который оно сеет.");
        allNotes.add("Записка 189: Мы видели, как некогда могущественные маги становятся марионетками в руках этого существа.");
        allNotes.add("Записка 190: Нежить, состоящая из преступников, теперь охотится на нас, чтобы уничтожить последние остатки сопротивления.");
        allNotes.add("Записка 191: Мы должны найти способ остановить это существо, иначе наше королевство навсегда погрузится в тьму.");
        allNotes.add("Записка 192: Каждый день становится все труднее — мы теряем друзей и союзников, превращающихся в нежить.");
        allNotes.add("Записка 193: Бандиты, которые когда-то грабили, теперь становятся частью мрачной армии, подчиняющейся темным силам.");
        allNotes.add("Записка 194: Мы ищем способы защититься от нежити, но каждый новый день приносит только новые испытания.");
        allNotes.add("Записка 195: В нашей группе осталось всего несколько выживших, и мы должны действовать быстро.");
        allNotes.add("Записка 196: Мы продолжаем записывать наши мысли, чтобы оставить след в этой мрачной истории.");
        allNotes.add("Записка 197: Нежить становится все более агрессивной, и мы можем стать их следующими жертвами.");
        allNotes.add("Записка 198: Мы должны найти способ освободить магов от власти этого существа, иначе у нас не будет шансов.");
        allNotes.add("Записка 199: Время истекает, и мы должны объединить наши силы, чтобы противостоять надвигающейся тьме.");

        allNotes.add("Записка 200: Кровь моя — последняя нить, что связывает меня с этим миром. Я пишу, зная, что эта запись станет последним криком отчаяния, последним свидетельством моего существования. Вокруг меня царит тьма, и она жадно поглощает всё живое. Каждый шорох, каждый звук — это предвестие. Я чувствую, как Он приближается, как тень, что растёт с каждым ударом моего сердца. Я вижу его в своих кошмарах. Огромное, изуродованное тело, покрытое шрамами и гнилью. Его глаза — бездонные бездны, полные ненависти и жажды крови. Он — воплощение всех моих страхов, всех ужасов, что я когда-либо испытывал. И теперь он здесь, в этом мире, и он жаждет моей души. Я последний из выживших. Мои товарищи, мои друзья — все они стали частью его армии, частью нежити, которая бродит по этой земле. Их крики о помощи, их страдания — всё это теперь лишь эхо в моём сознании. Я слышу их шёпот, но это не они. Это Он, манящий меня в свою бездну. Каждый миг, проведённый в этом проклятом месте, становится пыткой. Я вижу, как кровь стекает по стенам, как мрак поглощает свет, как страх заполняет воздух. Я чувствую, как он проникает в меня, как я теряю остатки разума. Я не могу больше скрываться, не могу больше бежать. Он знает, где я. С каждым вздохом я ощущаю его присутствие. Он ближе, чем когда-либо. Я слышу его шаги, слышу, как он приближается, как его дыхание наполняет тьму. Это не просто существо — это сама смерть, это конец всего, что я когда-либо знал. Я пишу эти слова, зная, что они могут стать последними. Я использую свою кровь, чтобы оставить след в этом мире, чтобы запечатлеть своё страдание и свою безнадежность. Если кто-то когда-то найдёт эту записку, знайте: Он пришёл за мной. Он пришёл за всеми нами. Я не умру без борьбы. Я оставлю этот крик в вечности, чтобы запомнили, что мы были здесь, что мы сражались, что мы не сдавались. Но если вы читаете это, знайте: тьма не знает пощады. Она поглотит вас, как поглотила меня. Он уже здесь.");

        allNotes.add("Записка 666: ...Я... я... не знаю, сколько... времени прошло с тех пор, как... тьма... охватила меня. Я, Верховный маг, был... был... сильнее, чем все... но... это... это нечто... не поддается описанию. Оно... оно... шепчет мне... в тишине... в моих снах... Я вижу... тени... тени, что... ползут... по стенам... Они... они не... не живы... но и не мертвы. Я... я пытался... закрыть портал... но... он... он звал меня... звал... с каждой каплей... крови. Я... чувствую, как... его... холодные пальцы... касаются моего разума, как... как они... проникают в мою душу... Я... не могу... больше... держаться. Тьма... она... она... растёт... и... я... я... не знаю, как... остановить это. Если вы... читаете это... знайте: я... я был... не готов... к этому... к ужасу, который... пришёл... с порталом. Я... слышу его... смех... он... он хочет... меня... он хочет... всех нас. Я... заклинаю вас... бегите... пока ещё... есть время... Не дайте... тьме... поглотить вас... как... поглотила... меня. Я... я... не знаю, сколько... ещё смогу... сопротивляться... Верьте, если... вы... сможете... это... понять: тьма... не знает... пощады... и... она... уже здесь...");


    }

    // Метод для выбора случайных записок
    private void selectRandomNotes() {
        Random random = new Random();
        int numberOfNotes = random.nextInt(2) + 1; // Случайное число от 1 до 2

        // Очистка списка доступных записок
        availableNotes.clear();

        // Случайный выбор записок
        while (availableNotes.size() < numberOfNotes) {
            String note = allNotes.get(random.nextInt(allNotes.size()));
            if (!availableNotes.contains(note)) {
                availableNotes.add(note);
            }
        }
    }

    // Переопределение метода playerTurn для взаимодействия с библиотекой
    @Override
    public void playerTurn(Game game, Room room) {
        Player player = game.getPlayer();

        if (!visited) {
            selectRandomNotes(); // Выбор случайных записок
            System.out.println("\n" + YELLOW + "⚜ Вы вошли в Королевскую библиотеку. Здесь есть несколько записок." + RESET);

            // Показать доступные записки
            for (int i = 0; i < availableNotes.size(); i++) {
                System.out.println(CYAN + (i + 1) + ". " + availableNotes.get(i) + RESET);
            }

            Scanner scanner = new Scanner(System.in);
            int choice = -1;
            boolean validInput = false;

            while (!validInput) {
                System.out.print(PURPLE + "\n➤ Введите номер записки, чтобы прочитать ее (или '0' для выхода): " + RESET);
                String input = scanner.nextLine().trim();

                try {
                    choice = Integer.parseInt(input);
                    if (choice >= 0 && choice <= availableNotes.size()) {
                        validInput = true;
                    } else {
                        System.out.println(RED + "✘ Пожалуйста, введите число от 0 до " + availableNotes.size() + "." + RESET);
                    }
                } catch (NumberFormatException e) {
                    System.out.println(RED + "✘ Пожалуйста, введите корректное числовое значение." + RESET);
                }
            }

            if (choice > 0) {
                System.out.println(GREEN + "\n📜 Вы прочитали: " + availableNotes.get(choice - 1) + RESET);
                System.out.println(BLUE + "✓ Записка прочитана." + RESET);
            } else {
                System.out.println(YELLOW + "\n← Вы решили покинуть Королевскую библиотеку." + RESET);
            }

            visited = true; // Пометить библиотеку как посещенную
        } else {
            System.out.println(GRAY + "\nВы уже были в Королевской библиотеке." + RESET);
        }

        // После взаимодействия с библиотекой обработать пустую комнату
        handleEmptyRoom(game, this);
    }
    // Цветовые коды ANSI
    public static final String RESET = "\u001B[0m";
    public static final String BLACK = "\u001B[30m";
    public static final String RED = "\u001B[31m";
    public static final String GREEN = "\u001B[32m";
    public static final String YELLOW = "\u001B[33m";
    public static final String BLUE = "\u001B[34m";
    public static final String PURPLE = "\u001B[35m";
    public static final String CYAN = "\u001B[36m";
    public static final String GRAY = "\u001B[37m";
}
